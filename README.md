# üõ† Basic Web App with Terraform

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø–æ–¥–Ω–∏–º–∞–µ—Ç –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É Basic Web App –≤ Yandex Cloud —Å –ø–æ–º–æ—â—å—é Terraform, –≤–∫–ª—é—á–∞—è —Å–µ—Ä–≤–∏—Å–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç, IAM-–ø—Ä–∞–≤–∞, Instance Group –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫—É –±–∞–∑–æ–≤–æ–≥–æ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

---

## ‚úèÔ∏è –ß—Ç–æ –Ω—É–∂–Ω–æ –∑–∞–ø–æ–ª–Ω–∏—Ç—å –≤ `terraform.tfvars`

–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É–∫–∞–∑–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤ —Ñ–∞–π–ª–µ `terraform.tfvars`:

```hcl
yc_token     = ""  # OAuth-—Ç–æ–∫–µ–Ω Yandex Cloud
yc_cloud_id  = ""  # ID –æ–±–ª–∞–∫–∞
yc_folder_id = ""  # ID –ø–∞–ø–∫–∏
yc_zone      = "ru-central1-a"

# –û–±—Ä–∞–∑ Ubuntu 22.04 LTS (–ø—Ä–∏–º–µ—Ä –æ—Ç 21.04.2025)
image_id     = "fd8e1sajg9qbr5mp1hco"

# –î–∞–Ω–Ω—ã–µ –¥–ª—è –ë–î
db_database  = "basicwebapp"
db_username  = "basicwebapp"
db_password  = "Test1234"

# –ù–∞–∑–≤–∞–Ω–∏–µ –±–∞–∫–µ—Ç–∞
bucket_name  = ""
````

---

## üöÄ –†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã

1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π Terraform:

```bash
terraform init
```

2. –ü—Ä–∏–º–µ–Ω–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é (—Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º):

```bash
terraform apply
```

---

## üî• –£–¥–∞–ª–µ–Ω–∏–µ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã

> –ß—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –æ—à–∏–±–æ–∫ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏, —Å–Ω–∞—á–∞–ª–∞ –Ω—É–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å —Ä–µ—Å—É—Ä—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–≤–∏—Å—è—Ç –æ—Ç IAM-—Ä–æ–ª–µ–π.

1. –£–¥–∞–ª–∏—Ç—å –≥—Ä—É–ø–ø—É –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –º–∞—à–∏–Ω:

```bash
terraform destroy -target=yandex_compute_instance_group.instance-group-1
```

2. –£–¥–∞–ª–∏—Ç—å –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã:

```bash
terraform destroy
```

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
.
‚îú‚îÄ‚îÄ basicwebapp.service            # Systemd unit-—Ñ–∞–π–ª –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ my-config.tf                   # –û—Å–Ω–æ–≤–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Terraform
‚îú‚îÄ‚îÄ terraform.tfvars               # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤—Ä—É—á–Ω—É—é)
‚îú‚îÄ‚îÄ templates/                     # –®–∞–±–ª–æ–Ω—ã –¥–ª—è cloud-init –∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ .env.tmpl                  # –®–∞–±–ª–æ–Ω –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ appsettings.json.tmpl      # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è ASP.NET –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ cloud-init.tmpl            # cloud-init —Å–∫—Ä–∏–ø—Ç –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ –∑–∞–ø—É—Å–∫–∞
‚îî‚îÄ‚îÄ README.md                      # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

---

## üìå –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ

Terraform –º–æ–∂–µ—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ —É–¥–∞–ª–∏—Ç—å IAM-–ø—Ä–∞–≤–∞ —Ä–∞–Ω—å—à–µ –∑–∞–≤–∏—Å–∏–º—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤. –ß—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å —ç—Ç–æ–≥–æ ‚Äî —É–¥–∞–ª—è–π—Ç–µ –≤ –¥–≤–∞ —ç—Ç–∞–ø–∞ (—Å–Ω–∞—á–∞–ª–∞ —Ä–µ—Å—É—Ä—Å—ã, –ø–æ—Ç–æ–º IAM).
